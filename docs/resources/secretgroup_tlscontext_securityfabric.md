---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "anypoint_secretgroup_tlscontext_securityfabric Resource - terraform-provider-anypoint"
subcategory: ""
description: |-
  Create and manage tls-context of type security-fabric for a secret-group in a given organization and environment.
      This resource doesn't support delete. The delete operation only removes the resource from local terraform state file.
      Only the parent resource (secret-group) can be deleted.
---

# anypoint_secretgroup_tlscontext_securityfabric (Resource)

Create and manage tls-context of type security-fabric for a secret-group in a given organization and environment.
		This resource doesn't support delete. The delete operation only removes the resource from local terraform state file.
		Only the parent resource (secret-group) can be deleted.

## Example Usage

```terraform
resource "anypoint_secretgroup_tlscontext_securityfabric" "sf" {
  org_id = var.root_org
  env_id = var.env_id
  sg_id = anypoint_secretgroup.sg.id
  name = "terraform-tlscontext-sf"
  keystore_path = anypoint_secretgroup_keystore.jks.path
  truststore_path = anypoint_secretgroup_truststore.jks.path

  acceptable_tls_versions {
    tls_v1_dot1 = false
    tls_v1_dot2 = true
    tls_v1_dot3 = true
  }
  enable_mutual_authentication = true
  acceptable_cipher_suites {
    aes256_sha256 = true
    dhe_rsa_aes256_sha256 = true
  }
  mutual_authentication {
    cert_checking_strength = "Lax"
    verification_depth = 2
    authentication_overrides {
      allow_self_signed = true
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `acceptable_cipher_suites` (Block List, Min: 1, Max: 1) List of accepted cipher suites by Security Fabric target, at least one should be set to true. If you are are not using the defaults and select individual ciphers, please select ciphers that match the configured keystore to ensure that TLS can setup a connection.
        For a keystore with an RSA key (the most common type), select ciphers which contain the string RSA (there are some exceptions). If using ECC ciphers, select ciphers which contain the string "ECDSA".
        TLS standards and documentation can be consulted for more background information. (see [below for nested schema](#nestedblock--acceptable_cipher_suites))
- `acceptable_tls_versions` (Block List, Min: 1, Max: 1) TLS versions supported. (see [below for nested schema](#nestedblock--acceptable_tls_versions))
- `enable_mutual_authentication` (Boolean) This flag is to enable client authentication.
- `env_id` (String) The environment id where the tls-context's secret group is defined.
- `name` (String) The name of the tls-context
- `org_id` (String) The organization id where the tls-context's secret group is defined.
- `sg_id` (String) The secret-group id where the tls-context instance is defined.

### Optional

- `keystore_path` (String) Refers to a secret of type keystore. Relative path of the secret to be referenced.
- `mutual_authentication` (Block List, Max: 1) Configuration for client authentication. (see [below for nested schema](#nestedblock--mutual_authentication))
- `truststore_path` (String) Refers to a secret of type truststore. Relative path of the secret to be referenced.

### Read-Only

- `expiration_date` (String) The expiration date of the tls-context
- `id` (String) Id assigned to this tls-context
- `last_updated` (String) The last time this resource has been updated locally.
- `path` (String) The path of the tls-context
- `target` (String) The target application for the tls-context

<a id="nestedblock--acceptable_cipher_suites"></a>
### Nested Schema for `acceptable_cipher_suites`

Optional:

- `aes128_gcm_sha256` (Boolean) Allowed to be enabled only if tlsV1Dot2 is enabled
- `aes128_sha256` (Boolean) Allowed to be enabled only if tlsV1Dot2 is enabled
- `aes256_gcm_sha384` (Boolean) Allowed to be enabled only if tlsV1Dot2 is enabled
- `aes256_sha256` (Boolean) Allowed to be enabled only if tlsV1Dot2 is enabled
- `dhe_rsa_aes128_gcm_sha256` (Boolean) Allowed to be enabled only if tlsV1Dot2 is enabled
- `dhe_rsa_aes128_sha256` (Boolean) Allowed to be enabled only if tlsV1Dot2 is enabled
- `dhe_rsa_aes256_gcm_sha384` (Boolean) Allowed to be enabled only if tlsV1Dot2 is enabled
- `dhe_rsa_aes256_sha256` (Boolean) Allowed to be enabled only if tlsV1Dot2 is enabled
- `dhe_rsa_chacha20_poly1305` (Boolean) Allowed to be enabled only if tlsV1Dot2 is enabled
- `ecdhe_ecdsa_aes128_gcm_sha256` (Boolean) Allowed to be enabled only if tlsV1Dot2 is enabled
- `ecdhe_ecdsa_aes128_sha1` (Boolean) Allowed to be enabled only if tlsV1Dot2 is enabled
- `ecdhe_ecdsa_aes256_gcm_sha384` (Boolean) Allowed to be enabled only if tlsV1Dot2 is enabled
- `ecdhe_ecdsa_aes256_sha1` (Boolean) Allowed to be enabled only if tlsV1Dot2 is enabled
- `ecdhe_ecdsa_chacha20_poly1305` (Boolean) Allowed to be enabled only if tlsV1Dot2 is enabled
- `ecdhe_rsa_aes128_gcm_sha256` (Boolean) Allowed to be enabled only if tlsV1Dot2 is enabled
- `ecdhe_rsa_aes128_sha1` (Boolean) Allowed to be enabled only if tlsV1Dot2 is enabled
- `ecdhe_rsa_aes256_gcm_sha384` (Boolean) Allowed to be enabled only if tlsV1Dot2 is enabled
- `ecdhe_rsa_aes256_sha1` (Boolean) Allowed to be enabled only if tlsV1Dot2 is enabled
- `ecdhe_rsa_chacha20_poly1305` (Boolean) Allowed to be enabled only if tlsV1Dot2 is enabled
- `tls_aes128_gcm_sha256` (Boolean) Allowed to be enabled only if tlsV1Dot2 is enabled
- `tls_aes256_gcm_sha384` (Boolean) Allowed to be enabled only if tlsV1Dot2 is enabled
- `tls_chacha20_poly1305_sha256` (Boolean) Allowed to be enabled only if tlsV1Dot2 is enabled


<a id="nestedblock--acceptable_tls_versions"></a>
### Nested Schema for `acceptable_tls_versions`

Required:

- `tls_v1_dot1` (Boolean) TLS version 1.1
- `tls_v1_dot2` (Boolean) TLS version 1.2
- `tls_v1_dot3` (Boolean) TLS version 1.3


<a id="nestedblock--mutual_authentication"></a>
### Nested Schema for `mutual_authentication`

Required:

- `cert_checking_strength` (String) Allows application to control if strict or lax certificate checking will be performed during chain-of-trust processing. 
							Supported values are "Strict" and "Lax"

Optional:

- `authentication_overrides` (Block List, Max: 1) Override failing authentication when mutual authentication is being performed (see [below for nested schema](#nestedblock--mutual_authentication--authentication_overrides))
- `certificate_policies` (List of String) List of Object identifier (OID).
							OIDs are intended to be globally unique.
							They are formed by taking a unique numeric string (e.g. 1.3.5.7.9.24.68) and adding additional digits in a unique fashion (e.g. 1.3.5.7.9.24.68.1, 1.3.5.7.9.24.68.2, 1.3.5.7.9.24.68.1.1, etc.) An institution will acquire an arc (eg 1.3.5.7.9.24.68) and then extend the arc (called subarcs) as indicated above to create additional OIDâ€™s and arcs.
							There is no limit to the length of an OID, and virtually no computational burden to having a long OID.
- `certificate_policy_checking` (Boolean) Controls certificate policy processing as defined in RFC 3280, 5280. A certificate can contain zero or more policies.
							A policy is represented as an object identifier (OID). In an end entity certificate, this policy information indicate the policy under which the certificate has been issued and the purposes for which the certificate may be used.
							In a CA certificate, this policy information limits the set of policies for certification paths that include this certificate. Applications with specific policy requirements are expected to have a list of those policies that they will accept and to compare the policy OIDs in the certificate to that list.
							If this extension is critical, the path validation software MUST be able to interpret this extension (including the optional qualifier), or MUST reject the certificate
- `crl_distributor_config_path` (String) Reference to a secret of type crlDistributorConfig. Must be set if revocationCheckingMethod is set to 'CRL'.
- `perform_domain_checking` (Boolean) Whether or not to perform domain checking
- `require_crl_for_all_ca` (Boolean) Indicates if a valid CRL file must be in effect for every immediate and root Certificate Authority (CA) in the chain-of-trust
- `require_initial_explicit_policy` (Boolean) Indicates if the path must be valid for at least one of the certificate policies in the user-initial-policy-set.
- `revocation_checking` (Boolean) Indicates if certificate revocation checking should be enabled or not.
- `revocation_checking_method` (String) Protocol used for certificate revocation checking. Must be set if revocationChecking is set to 'true'.
- `send_truststore` (Boolean) Should the truststore i.e. trusted certificate authorities be sent to far-end during mutual authentication
- `verification_depth` (Number) Maximum allowed chain length for the certificates. Allowed values between 0-9

Read-Only:

- `certificate_pinning` (Map of String) Referes to pinned certificates

<a id="nestedblock--mutual_authentication--authentication_overrides"></a>
### Nested Schema for `mutual_authentication.authentication_overrides`

Optional:

- `allow_self_signed` (Boolean) Allow self signed certificates
- `certificate_bad_format` (Boolean) Allow processing of certificates with bad format
- `certificate_bad_signature` (Boolean) Allow processing of certificates with bad signature
- `certificate_has_expired` (Boolean) Allow processing of certificates that are expired
- `certificate_not_yet_valid` (Boolean) Allow processing of certificates that are not yet valid
- `certificate_unresolved` (Boolean) Allow unresolved certificates
- `certificate_untrusted` (Boolean) Allow untrusted certificates
- `invalid_ca` (Boolean) Allow invalid certificate authority certificates
- `invalid_purpose` (Boolean) Allow certificates with invalid purpose
- `other` (Boolean) Override any miscellaneous error condition encountered

## Import

Import is supported using the following syntax:

```shell
# In order for the import to work, you should provide a ID composed of the following:
#  {ORG_ID}/{ENV_ID}/{SG_ID}/{SECRET_ID}

terraform import \
  -var-file params.tfvars.json \    #variables file
  anypoint_secretgroup_tlscontext_securityfabric.sf \                #resource name
  aa1f55d6-213d-4f60-845c-201282484cd1/7074fcdd-9b23-4ab3-97c8-5db5f4adf17d/39731075-0521-47aa-82b2-d9745f2ac2eb/b2096f24-3ae3-4047-a481-41b5b102feba   #resource ID
```
